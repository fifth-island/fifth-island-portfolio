<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Joao Victor Quintanilha</title>

    <!-- Link to Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="styles.css">

    <!-- Include Internal CSS -->
    <style>
        /* Add your internal CSS here or ensure it‚Äôs correctly linked via styles.css */
    </style>
</head>

<body>

    <header>
        <nav class="navbar">
            <ul>
                <li><a href="index.html">.HOME</a></li>
                <li><a href="#readme">.README</a></li>
                <li><a href="#skills">.SKILLS</a></li>
                <li><a href="#services">.PROJECTS</a></li>
                <li><a href="#career">.CAREER</a></li>
            </ul>
        </nav>
    </header>

    <section id="banner">
        <video autoplay muted loop playsinline class="video">
            <source src="images/banner_tech.mp4" type="video/mp4">
        </video>

        <div class="banner-content">
            <img src="images/me.jpeg" alt="Description of image" class="circular-image">
            <div class="container">
                <h1 class="typewriter-effect">Hi! I'm Jo√£o Quintanilha</h1>
            </div>
            <h2>An engineer who loves to work with data, AIs, websites and applications.</h2>
            <p>You can contact me on my e-mail</p>
        </div>
    </section>

    <section id="readme">
        <div class="readme-content">
            <div class="container-typewriter">
                <h1 class="title">.README</h1>
            </div>

            <p>
                As a recent graduate from <a href="https://www.tufts.edu">Tufts University</a> in Boston with dual degrees in Computer
                Science and Biology, I am now advancing my expertise through a Master‚Äôs Degree at Tufts, 
                honing my skills in software engineering and integrating them with data science. I am a software engineer driven by 
                ambition and a passion for innovation. My extensive experience spans website and application development, 
                alongside deploying Artificial Intelligence and Machine Learning algorithms to enhance system functionalities. <br> <br> 
            
                Beyond software and data engineering, my involvement in bioinformatics research across Brazil, the United States, and Germany has leveraged 
                data analysis and Python programming.
            </p>

            <hr class="divider">

            <table>
                <tr>
                    <th>
                        <img src="images/palantir.png" alt="Palantir Logo" class="logo">
                    </th>
                    <th>
                        <img src="images/pega.webp" alt="Pega Logo" class="logo">
                    </th>
                    <th>
                        <img src="images/brasa.png" alt="BRASA Logo" class="logo">
                    </th>
                    <th>
                        <img src="images/tufts.png" alt="Tisch Logo" class="logo">
                    </th>
                </tr>
                <tr>
                    <td class="subtitle">Palantir Scholar</td>
                    <td class="subtitle">Pega Scholar</td>
                    <td class="subtitle">BRASA Scholar</td>
                    <td class="subtitle">Tisch Scholar</td>
                </tr>
            </table>
            <br>

            <div class="button-container">
<!--                 <button class="button">Hire me</button>
               -->
                
              <a href="joao_resume.pdf" download="joao_resume.pdf"><button class="button">Download Resume</button></a>

            </div>
        </div>
    </section>

    <section id="skills">
      <div class="skills-content">
          <div class="container">
            <div class="container-typewriter">
              <h1 class="title">.SKILLS</h1>
            </div>
              <div class="row" id="skillsContainer">
                  <div class="bar">
                      <div class="info">
                          <img src="images/skills/skill1.png" alt="Figma Logo"/>
                          <span>Figma</span>
                      </div>
                  </div>                  
                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                    <div class="info">
                        <img src="images/skills/skill7.png" alt="Heroku Logo"/>
                        <span>Heroku</span>
                    </div>
                  </div>

                    <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                      <div class="info">
                          <img src="images/skills/skill5.png" alt="Jupyter Notebook Logo"/>
                          <span>Jupyter</span>
                      </div>
                    </div>                  
                    <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                      <div class="info">
                          <img src="images/skills/skill6.png" alt="MySQL Logo"/>
                          <span>MySQL</span>
                      </div>
                    </div>
                    <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                      <div class="info">
                          <img src="images/skills/skill10.png" alt="Node Logo"/>
                          <span>Node.js</span>
                      </div>
                    </div>
                  
                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                      <div class="info">
                          <img src="images/skills/skill3.png" alt="Photoshop Logo"/>
                          <span>Photoshop</span>
                      </div>
                  </div>
                  
                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                    <div class="info">
                        <img src="images/skills/skill2.png" alt="Node Logo"/>
                        <span>Power BI</span>
                    </div>
                  </div>

                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                    <div class="info">
                        <img src="images/skills/skill9.png" alt="Framer Logo"/>
                        <span>React</span>
                    </div>
                </div>



                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                    <div class="info">
                        <img src="images/skills/skill8.png" alt="TensorFlow Logo"/>
                        <span>TensorFlow</span>
                    </div>
                  </div>
                  <div class="bar animate__animated animate__zoomIn animate__delay-2s">
                    <div class="info">
                        <img src="images/skills/skill4.png" alt="WordPress Logo"/>
                        <span>WordPress</span>
                    </div>
                  </div>
                  <!-- Add more skill bars as needed -->
              </div>
          </div>
      </div>
  </section>

  <section class="services" id="services">
    <div class="container-typewriter">
      <h1 class="title">.PROJECTS</h1>
    </div>
    <div class="services-container">
        <div class="service-box" data-link="https://github.com/JohnsonM20/AquaSense" data-images="images/projects/aquasense2.png,images/projects/aquasense.gif" data-image-sizes="100,75">
            <img src="images/projects/aquasense2.png" alt="AquaSense Hackathon Project" class="service-image">
            <div class="service-info">
                <h4>AquaSense</h4>
                <div class="service-tags">
                    <span class="tag">FastAPI</span>
                    <span class="tag">Machine Learning</span>
                    <span class="tag">Figma</span>
                    <span class="tag">Product Management</span>
                </div>
                <p>Hi! Hackathon ¬∑ Institut Polytechnique de Paris ¬∑ Nov ‚Äì Dec 2024<br><br>
                  üèÜ 1st Place ‚Äì Technical Excellence: Achieved 69% F1 score, outperforming next-best team by 5%. Led as Tech Leader on an AI-smart mobile app for French farmers to predict groundwater levels. Created a comprehensive business report to analyze market needs and assess product viability within the French commercial context.</p>
            </div>
        </div>
        <div class="service-box" data-link="https://thfes.com/">
            <img src="images/projects/thfes.png" alt="THFES Website" class="service-image">
            <div class="service-info">
                <h4>THFES Website</h4>
                <div class="service-tags">
                    <span class="tag">JavaScript</span>
                    <span class="tag">HTML</span>
                    <span class="tag">CSS</span>
                    <span class="tag">Figma</span>
                    <span class="tag">Agile</span>
                </div>
                <p>Tufts Human Factors & Ergonomics Society ¬∑ Medford, MA ¬∑ Jul 2023 ‚Äì Jul 2024<br><br>
                  Rebuilt the entire website (36 pages) using JavaScript and HTML/CSS, improving member engagement by 25%. Worked under an Agile development methodology, creating a Notion dashboard to integrate and manage all team tasks. Streamlined maintenance by implementing a content management system, allowing owners to update content independently.</p>
            </div>
        </div>
        <div class="service-box" data-link="https://github.com/fifth-island/HACKA_BRASA_2024">
            <img src="images/projects/token.png" alt="Blockchain Platform" class="service-image">
            <div class="service-info">
                <h4>Blockchain Platform</h4>
                <div class="service-tags">
                    <span class="tag">TypeScript</span>
                    <span class="tag">MongoDB</span>
                    <span class="tag">Prisma ORM</span>
                </div>
                <p>BRASA Hacks ¬∑ Columbia University, NY ¬∑ Aug 2024<br><br>
                  Designed and developed a securitization platform for Bank BTG Pactual using TypeScript, React, Prisma ORM and MongoDB. Engineered Ethereum tokens by designing smart contracts based on deterministic functions to respond to the environment. Implemented a secure user authentication system utilizing Gmail OAuth 2.0 for seamless login.</p>
            </div>
        </div>
        <div class="service-box" data-link="https://public.tableau.com/app/profile/joao.quintanilha/viz/TrackingPublicSpendingAnalyzingCongressionalExpensesinBrazil/TrackingPublicSpendingAnalyzingCongressionalExpensesinBrazil" data-images="images/projects/tableau1.png,images/projects/tableau2.png,images/projects/tableau3.png">
            <img src="images/projects/tableau1.png" alt="Public Expenses Dashboard" class="service-image">
            <div class="service-info">
                <h4>Public Expenses Dashboard</h4>
                <div class="service-tags">
                    <span class="tag">Python</span>
                    <span class="tag">Tableau</span>
                </div>
                <p>Tableau ¬∑ Python ¬∑ Data Visualization<br><br>
                  Designed 4 interactive Tableau dashboards treating Brazilian governmental data. Preprocessed data in Python and generated analysis and visuals related to national accountability, enabling transparent insight into public expenditures.</p>
            </div>
        </div>
        <div class="service-box" data-link="https://www.youtube.com/watch?v=tpbX9LqoCx0">
            <img src="images/projects/classicsagent.png" alt="Palantir AI Classics Companion" class="service-image">
            <div class="service-info">
                <h4>AI Classics Companion</h4>
                <div class="service-tags">
                    <span class="tag">Foundry</span>
                    <span class="tag">React</span>
                    <span class="tag">TypeScript</span>
                    <span class="tag">RAG</span>
                </div>
                <p>Palantir Foundry ¬∑ Apr ‚Äì May 2025<br><br>
                  Built an AIP app integrating a language model to paraphrase archaic text, enhancing readability in classic literature datasets. Deployed data workflows in Foundry to extract keywords and generate context-aware footnotes using LLM logic functions. Engineered NLP pipelines to chunk, paraphrase, and summarize literary passages at scale using Palantir AIP tools.</p>
            </div>
        </div>
        <div class="service-box">
            <img src="images/projects/acm_summer.jpeg" alt="ACM Summer School on Data Science" class="service-image">
            <div class="service-info">
                <h4>ACM Summer School</h4>
                <div class="service-tags">
                    <span class="tag">Python</span>
                    <span class="tag">R</span>
                    <span class="tag">Graphs</span>
                </div>
                <p>Association of Computing Machinery ¬∑ Ioannina, Greece ¬∑ Jun ‚Äì Jul 2025<br><br>
                  Selected globally for competitive summer program hosted by ACM Europe Council. Completing courses in network science, sustainable ML, graph databases, and data stream processing. Building hands-on projects using NebulaStream, graph analytics, and energy-aware ML tools.</p>
            </div>
        </div>
        <div class="service-box">
            <img src="images/projects/argonne.png" alt="Argonne Lab Certificate" class="service-image">
            <div class="service-info">
                <h4>Argonne Lab Certificate</h4>
                <div class="service-tags">
                    <span class="tag">TensorFlow</span>
                    <span class="tag">PyTorch</span>
                    <span class="tag">Google Cloud Platform</span>
                    <span class="tag">Deep Learning</span>
                </div>
                <p>Argonne National Laboratory ¬∑ ALCF, Virtual ¬∑ Feb ‚Äì Apr 2024<br><br>
                  Selected for a US Department of Energy training program focused on leveraging AI within supercomputing environments. Built advanced neural networks and explored LLM embedding and tokenization techniques using supercomputers. Applied parallel training methods to optimize large-scale ML tasks, enhancing computational efficiency by 50%.</p>
            </div>
        </div>
        <div class="service-box">
            <img src="images/projects/karachi.png" alt="Karachi Water Project" class="service-image">
            <div class="service-info">
                <h4>Karachi Water Project</h4>
                <div class="service-tags">
                    <span class="tag">Python</span>
                    <span class="tag">Jupyter Notebook</span>
                    <span class="tag">Mathematical Modeling</span>
                </div>
                <p>Tufts Dept. of Urban & Environmental Policy & Planning ¬∑ Medford, MA ¬∑ May ‚Äì Jul 2024<br><br>
                  Built the first version of an agent-based model for water consumption in Pakistan using the MESA library in Python. Reviewed 30,000+ data points on industrial water usage alongside government reports to initialize agents of the model. Developed a text classification algorithm that categorized 67% of the data, speeding up the production of charts and analyses.</p>
            </div>
        </div>
        <div class="service-box" data-link="https://github.com/fifth-island/portfolio-data/blob/main/plastisseiro_portfolio.pdf">
            <img src="images/projects/plastisseiro.webp" alt="Plastisseiro Research Project" class="service-image">
            <div class="service-info">
                <h4>Plastisseiro</h4>
                <div class="service-tags">
                    <span class="tag">Design Thinking</span>
                    <span class="tag">Adobe Package</span>
                    <span class="tag">Product Management</span>
                </div>
                <p>SENAI Vila Cana√£ ¬∑ Goi√¢nia, Brazil ¬∑ Apr 2015 ‚Äì Nov 2016<br><br>
                  Pre-college research converting plastic bags and cups into ecological foam for upholstery. Created foam composed of recycled polypropylene and polystyrene, used in dust-mite-proof pillows. Lectured at Saint Bonaventure University and Bluefield College on sustainability. Achieved 4th place out of 300 as "Innovative Solution" at the 2016 WorldSkills Brazil.</p>
            </div>
        </div>
        <div class="service-box">
            <img src="images/projects/FIRST.jpg" alt="FIRST Robotics Mentor" class="service-image">
            <div class="service-info">
                <h4>FIRST Robotics Mentor</h4>
                <div class="service-tags">
                    <span class="tag">Project Management</span>
                    <span class="tag">Java</span>
                    <span class="tag">Leadership</span>
                </div>
                <p>FIRST Robotics ¬∑ SESI Vila Cana√£ School ¬∑ Goi√¢nia, Brazil ¬∑ May 2023 ‚Äì Present<br><br>
                  Mentor 10 teenagers for the FIRST Robotics Competition, implementing autonomous robot programs in Java and guiding ML integration with robot sensors. Mentored 15 kids for the FIRST LEGO League, teaching mechanical principles and introductory programming using LEGO EV3 toolkits ‚Äî leading them to 1st place in Robot Design at the National FLL tournament.</p>
            </div>
        </div>
    </div>
</section>

<section id="career">
    <div class="container-typewriter">
        <h1 class="title">.CAREER</h1>
    </div>
    <div class="timeline">
        <div class="timeline-line"></div>

        <div class="timeline-entry left">
            <div class="timeline-content">
                <span class="timeline-year">2014 ‚Äì 2016</span>
                <h4 class="timeline-title">SENAI Vila Cana√£</h4>
                <span class="timeline-role">Graphic Design Technical Program</span>
                <span class="timeline-location">Goi√¢nia, Brazil</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry right">
            <div class="timeline-content">
                <span class="timeline-year">2017 ‚Äì 2018</span>
                <h4 class="timeline-title">Liaison America</h4>
                <span class="timeline-role">Sales Representative</span>
                <span class="timeline-location"></span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry left">
            <div class="timeline-content">
                <span class="timeline-year">2019</span>
                <h4 class="timeline-title">Tufts University</h4>
                <span class="timeline-role">Start of B.S. in Biology & Computer Science</span>
                <span class="timeline-location">Medford, MA</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry right">
            <div class="timeline-content">
                <span class="timeline-year">2020</span>
                <h4 class="timeline-title">Anheuser-Busch InBev</h4>
                <span class="timeline-role">Data Analyst Intern</span>
                <span class="timeline-location">S√£o Paulo, Brazil</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry left">
            <div class="timeline-content">
                <span class="timeline-year">2021</span>
                <h4 class="timeline-title">HSB</h4>
                <span class="timeline-role">Research Assistant</span>
                <span class="timeline-location">Bremen, Germany</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry right">
            <div class="timeline-content">
                <span class="timeline-year">2024</span>
                <h4 class="timeline-title">Tufts University</h4>
                <span class="timeline-role">B.S. in Biology & Computer Science</span>
                <span class="timeline-location">Medford, MA</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry left">
            <div class="timeline-content">
                <span class="timeline-year">2024</span>
                <h4 class="timeline-title">Tufts University</h4>
                <span class="timeline-role">Start of M.S. in Data/Software Analytics</span>
                <span class="timeline-location">Medford, MA</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry right">
            <div class="timeline-content">
                <span class="timeline-year">2025</span>
                <h4 class="timeline-title">German Aerospace Center</h4>
                <span class="timeline-role">Software Engineer Intern</span>
                <span class="timeline-location">Braunschweig, Germany</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry left">
            <div class="timeline-content">
                <span class="timeline-year">2025</span>
                <h4 class="timeline-title">Tesla</h4>
                <span class="timeline-role">Software Engineer Intern</span>
                <span class="timeline-location">Austin, TX</span>
            </div>
            <div class="timeline-dot"></div>
        </div>

        <div class="timeline-entry right">
            <div class="timeline-content">
                <span class="timeline-year">2026</span>
                <h4 class="timeline-title">Dimenso</h4>
                <span class="timeline-role">Software Engineer Intern</span>
                <span class="timeline-location">Cambridge, MA</span>
            </div>
            <div class="timeline-dot"></div>
        </div>
    </div>
</section>

<section id="cta">
    <div class="cta-bridge">
        <div class="cta-bridge-line"></div>
        <div class="cta-bridge-dot"></div>
    </div>
    <div class="cta-content">
        <h1 class="cta-heading" id="ctaHeading">Let's build together?</h1>
        <div class="cta-buttons">
            <a href="mailto:joao.quintanilha@tufts.edu" class="cta-btn">
                <span class="cta-icon">‚úâ</span> Email
            </a>
            <a href="https://www.linkedin.com/in/joaoquintanilha/" target="_blank" class="cta-btn">
                <span class="cta-icon">‚Üó</span> LinkedIn
            </a>
        </div>
    </div>
</section>

  
<!-- Project Modal -->
<div class="project-modal-overlay" id="projectModal">
    <div class="project-modal">
        <button class="project-modal-close" id="modalClose">&times;</button>
        <div class="modal-carousel" id="modalCarousel">
            <div class="carousel-inner" id="carouselInner">
                <img src="" alt="" class="project-modal-image" id="modalImage">
                <button class="carousel-btn carousel-prev" id="carouselPrev">&#8249;</button>
                <button class="carousel-btn carousel-next" id="carouselNext">&#8250;</button>
            </div>
            <div class="carousel-dots" id="carouselDots"></div>
        </div>
        <div class="project-modal-details">
            <h2 id="modalTitle"></h2>
            <div class="service-tags" id="modalTags"></div>
            <p id="modalDescription"></p>
            <a href="#" target="_blank" class="project-modal-link" id="modalLink">
                <button class="button">View Project &rarr;</button>
            </a>
        </div>
    </div>
</div>

<script>
  // Smooth scroll to sections
  document.querySelectorAll('a[href^="#"]:not(.project-modal-link)').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
          e.preventDefault();
          document.querySelector(this.getAttribute('href')).scrollIntoView({
              behavior: 'smooth'
          });
      });
  });

  // Project Modal with Carousel
  (function() {
    const overlay = document.getElementById('projectModal');
    const modalImage = document.getElementById('modalImage');
    const modalTitle = document.getElementById('modalTitle');
    const modalTags = document.getElementById('modalTags');
    const modalDescription = document.getElementById('modalDescription');
    const modalLink = document.getElementById('modalLink');
    const modalClose = document.getElementById('modalClose');
    const modalCarousel = document.getElementById('modalCarousel');
    const carouselPrev = document.getElementById('carouselPrev');
    const carouselNext = document.getElementById('carouselNext');
    const carouselDots = document.getElementById('carouselDots');
    const carouselInner = document.getElementById('carouselInner');

    let carouselImages = [];
    let carouselSizes = [];
    let currentIndex = 0;

    function updateCarousel() {
      modalImage.src = carouselImages[currentIndex];
      const size = carouselSizes[currentIndex] ? carouselSizes[currentIndex] + '%' : '100%';
      modalImage.style.width = '100%';
      carouselInner.style.width = size;
      // Update dots
      carouselDots.querySelectorAll('.carousel-dot').forEach((dot, i) => {
        dot.classList.toggle('active', i === currentIndex);
      });
    }

    function setupCarousel(images, sizes) {
      carouselImages = images;
      carouselSizes = sizes || [];
      currentIndex = 0;
      carouselDots.innerHTML = '';

      if (images.length > 1) {
        modalCarousel.classList.add('has-carousel');
        images.forEach((_, i) => {
          const dot = document.createElement('span');
          dot.classList.add('carousel-dot');
          if (i === 0) dot.classList.add('active');
          dot.addEventListener('click', () => { currentIndex = i; updateCarousel(); });
          carouselDots.appendChild(dot);
        });
      } else {
        modalCarousel.classList.remove('has-carousel');
      }

      updateCarousel();
    }

    carouselPrev.addEventListener('click', (e) => {
      e.stopPropagation();
      currentIndex = (currentIndex - 1 + carouselImages.length) % carouselImages.length;
      updateCarousel();
    });

    carouselNext.addEventListener('click', (e) => {
      e.stopPropagation();
      currentIndex = (currentIndex + 1) % carouselImages.length;
      updateCarousel();
    });

    // Open modal on card click
    document.querySelectorAll('.service-box').forEach(card => {
      card.addEventListener('click', function(e) {
        if (e.target.closest('a')) return;

        const img = card.querySelector('.service-image');
        const title = card.querySelector('.service-info h4');
        const tags = card.querySelectorAll('.service-tags .tag');
        const desc = card.querySelector('.service-info p');
        const link = card.getAttribute('data-link');
        const dataImages = card.getAttribute('data-images');
        const dataImageSizes = card.getAttribute('data-image-sizes');

        // Setup carousel or single image
        if (dataImages) {
          const sizes = dataImageSizes ? dataImageSizes.split(',').map(Number) : [];
          setupCarousel(dataImages.split(','), sizes);
        } else {
          setupCarousel([img.src], [100]);
        }

        modalImage.alt = img.alt;
        modalTitle.textContent = title.textContent;

        modalTags.innerHTML = '';
        tags.forEach(tag => {
          const clone = tag.cloneNode(true);
          modalTags.appendChild(clone);
        });

        modalDescription.innerHTML = desc.innerHTML;

        if (link) {
          modalLink.href = link;
          modalLink.classList.add('visible');
        } else {
          modalLink.href = '#';
          modalLink.classList.remove('visible');
        }

        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    });

    // Close modal
    function closeModal() {
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }

    modalClose.addEventListener('click', closeModal);

    overlay.addEventListener('click', function(e) {
      if (e.target === overlay) closeModal();
    });

    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') closeModal();
      if (!overlay.classList.contains('active')) return;
      if (e.key === 'ArrowLeft') { currentIndex = (currentIndex - 1 + carouselImages.length) % carouselImages.length; updateCarousel(); }
      if (e.key === 'ArrowRight') { currentIndex = (currentIndex + 1) % carouselImages.length; updateCarousel(); }
    });
  })();

  // ===== Career Timeline ‚Äî typewriter reveal + scroll-driven line =====
  (function() {
    const timeline = document.querySelector('.timeline');
    const timelineLine = document.querySelector('.timeline-line');
    const entries = document.querySelectorAll('.timeline-entry');

    if (!timeline || !entries.length) return;

    // Typewriter ‚Äî returns a Promise that resolves when done
    function typeWriter(element, text, speed) {
      return new Promise(resolve => {
        if (!text) { resolve(); return; }
        let i = 0;
        element.textContent = '';
        element.classList.add('typing');
        function type() {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else {
            element.classList.remove('typing');
            resolve();
          }
        }
        type();
      });
    }

    function wait(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    // Reveal an entry with sequential typewriter
    async function revealEntry(entry) {
      const content = entry.querySelector('.timeline-content');
      const dot = entry.querySelector('.timeline-dot');
      const year = entry.querySelector('.timeline-year');
      const title = entry.querySelector('.timeline-title');
      const role = entry.querySelector('.timeline-role');
      const loc = entry.querySelector('.timeline-location');

      dot.classList.add('active');
      content.classList.add('visible');

      await typeWriter(year, year.dataset.text, 50);
      await wait(150);
      await typeWriter(title, title.dataset.text, 40);
      if (role.dataset.text) {
        await wait(100);
        await typeWriter(role, role.dataset.text, 25);
      }
      if (loc.dataset.text) {
        await wait(100);
        await typeWriter(loc, loc.dataset.text, 25);
      }
    }

    // Store original text, clear elements for typewriter
    entries.forEach(entry => {
      entry.querySelectorAll('.timeline-year, .timeline-title, .timeline-role, .timeline-location').forEach(el => {
        el.dataset.text = el.textContent;
        el.textContent = '';
      });
    });

    // IntersectionObserver triggers typewriter when entry scrolls into view
    const observer = new IntersectionObserver((observed) => {
      observed.forEach(o => {
        if (o.isIntersecting) {
          revealEntry(o.target);
          observer.unobserve(o.target);
        }
      });
    }, { threshold: 0.3 });

    entries.forEach(entry => observer.observe(entry));

    // Scroll-driven green line growth
    function updateLine() {
      const rect = timeline.getBoundingClientRect();
      const trigger = window.innerHeight * 0.6;
      const progress = (trigger - rect.top) / rect.height;
      const clamped = Math.max(0, Math.min(1, progress));
      timelineLine.style.height = (clamped * 100) + '%';

      // Once green line completes, grow the black bridge line in CTA
      const bridgeLine = document.querySelector('.cta-bridge-line');
      const bridgeDot = document.querySelector('.cta-bridge-dot');
      if (bridgeLine) {
        if (clamped >= 1) {
          // How far past full the green line has scrolled (in px)
          const overshoot = (trigger - rect.top) - rect.height;
          const bridgeMax = 60;
          const growRange = 120; // px of scroll to fully grow the bridge
          const bridgeClamped = Math.max(0, Math.min(1, overshoot / growRange));
          bridgeLine.style.height = (bridgeClamped * bridgeMax) + 'px';
          if (bridgeClamped >= 1) {
            bridgeDot.style.opacity = '1';
            bridgeDot.style.transform = 'scale(1)';
          } else {
            bridgeDot.style.opacity = '0';
            bridgeDot.style.transform = 'scale(0)';
          }
        } else {
          bridgeLine.style.height = '0px';
          bridgeDot.style.opacity = '0';
          bridgeDot.style.transform = 'scale(0)';
        }
      }
    }

    window.addEventListener('scroll', updateLine);
    window.addEventListener('resize', updateLine);
    updateLine();
  })();

  // ===== CTA typewriter =====
  (function() {
    const heading = document.getElementById('ctaHeading');
    const buttons = document.querySelector('.cta-buttons');
    if (!heading) return;

    const text = heading.textContent;
    heading.textContent = '';

    let revealed = false;

    function typeWriter(el, str, speed) {
      return new Promise(resolve => {
        let i = 0;
        el.textContent = '';
        el.classList.add('typing');
        function type() {
          if (i < str.length) {
            el.textContent += str.charAt(i);
            i++;
            setTimeout(type, speed);
          } else {
            el.classList.remove('typing');
            resolve();
          }
        }
        type();
      });
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(async (entry) => {
        if (entry.isIntersecting && !revealed) {
          revealed = true;
          await typeWriter(heading, text, 55);
          if (buttons) buttons.classList.add('visible');
          observer.unobserve(heading);
        }
      });
    }, { threshold: 0.5 });

    observer.observe(heading);
  })();
</script>



</body>
</html>
